var D=Object.defineProperty,I=Object.defineProperties;var P=Object.getOwnPropertyDescriptors;var x=Object.getOwnPropertySymbols;var A=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var N=(r,t,a)=>t in r?D(r,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):r[t]=a,u=(r,t)=>{for(var a in t||(t={}))A.call(t,a)&&N(r,a,t[a]);if(x)for(var a of x(t))B.call(t,a)&&N(r,a,t[a]);return r},h=(r,t)=>I(r,P(t));import{R as n,j as S,N as p,V as H,B as V,a as q,b as G,r as w,c as U,d as W,e as Y,M as $,u as K,f as J,g as Z,h as b,i as z}from"./vendor.e531aff8.js";const Q=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function a(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=a(s);fetch(s.href,o)}};Q();const L="FETCH_STARTED",M="FETCH_SUCCESS",F="FETCH_FAILED",X={data:[],error:"",isLoading:!1},ee=(r,t)=>{switch(t.type){case L:return h(u({},r),{isLoading:!0});case M:return h(u({},r),{data:t.payload,isLoading:!1});case F:return h(u({},r),{isLoading:!1,error:t.payload});default:return r}},te=()=>{const[{data:r,error:t,isLoading:a},i]=n.useReducer(ee,X);return n.useEffect(()=>{(async()=>{i({type:L});try{const o=await(await fetch("http://localhost:3000/movie")).json();i({type:M,payload:o})}catch(s){i({type:F,payload:s.message})}})()},[]),{data:r,error:t,isLoading:a}},e=S.exports.jsx,c=S.exports.jsxs,f=n.createContext(),C=n.createContext(),E=n.createContext(),re=({children:r})=>{const[t,a]=n.useState([]),i=te();return e(f.Provider,{value:i,children:e(E.Provider,{value:a,children:e(C.Provider,{value:t,children:r})})})},ae=()=>{const{data:r}=n.useContext(f),[t,a]=n.useState(""),[i,s]=n.useState([]),[o,l]=n.useState(!1),v=d=>{a(d.target.value);let m=r==null?void 0:r.filter(g=>g.name.replace(/ /g,"").toLowerCase().includes(t.replace(/ /g,"").toLowerCase()));s(m)};return c("header",{className:"header_container",children:[c("div",{className:"header_logo",children:[e("h1",{children:"MOVIES"}),e("button",{className:"burger-menu",onClick:()=>l(d=>!d),children:"|||"})]}),c("ul",{className:`header_list ${o?"isOpen":""}`,children:[e("li",{children:e(p,{to:"/",children:"Home"})}),e("li",{children:e(p,{to:"#",children:"TVshows"})}),e("li",{children:e(p,{to:"#",children:"Movies"})}),e("li",{children:e(p,{to:"/favorites",children:"My List"})})]}),c("div",{className:"header_input",children:[c("div",{className:"header_search",children:[e("input",{type:"text",placeholder:"search",onChange:v,value:t}),t&&e("ul",{className:"dropdown",children:i.length>0?i.map(d=>e("li",{className:"dropdown_menu",children:e("p",{children:d.name})})):e("p",{children:"Didnt find anything"})})]}),e("button",{children:e(H,{})})]})]})};const se=()=>c("footer",{className:"col-12",children:[e("h2",{children:"MOVIES"}),c("p",{children:["\xA9 Created by ",e("span",{children:"Laurat Hajrullaaga"})]}),c("ul",{className:"social_links",children:[e("li",{children:e(V,{})}),e("li",{children:e(q,{})}),e("li",{children:e(G,{})})]})]});const R=({description:r,genre:t,id:a,name:i,poster:s,rating:o,isFav:l})=>{const[v,d]=n.useState(!1),m=n.useContext(E),g=n.useContext(C),T=y=>{m(_=>[..._,y.target.value]),d(!0)},k=y=>{let _=g.filter(O=>O!==y.target.value);m(_)};return e("div",{className:"card",children:e("div",{className:"img_wrapper",style:{backgroundImage:`url(${s})`},children:l?e("button",{className:"fav-btn",value:a,onClick:k,title:"Remove from favorites",children:"x"}):e("button",{className:"fav-btn",value:a,disabled:v,onClick:T,title:"Add to favorites",children:"\u2605"})})})},ne=()=>{const r=n.useRef();return n.useEffect(()=>{const t=r.current;if(t){const a=i=>{i.deltaY!=0&&(i.preventDefault(),t.scrollTo({left:t.scrollLeft+i.deltaY,behavior:"smooth"}))};return t.addEventListener("wheel",a),()=>t.removeEventListener("wheel",a)}},[]),r},ie=()=>{const r=n.useContext(f),t=ne();return c("div",{className:"card_wrapper",ref:t,children:[r.error&&e("p",{children:r.error}),r.isLoading?e("h1",{children:"Loading..."}):r.data.map(a=>w.exports.createElement(R,h(u({},a),{key:a.id})))]})},oe=()=>{let r=["Upcoming Movies","Popular","What's hot","Coming this week"];return e(n.Fragment,{children:r.map(t=>c("div",{className:"card_scroll col-12",children:[e("h2",{className:"card_scroll_header",children:t}),e(ie,{})]},t))})};const j=[{title:"Oblivion",poster:"https://d2kektcjb0ajja.cloudfront.net/images/posts/feature_images/000/000/072/large-1466557422-feature.jpg?1466557422"},{title:"Mad Max: Fury Road",poster:"http://static1.squarespace.com/static/567064569cadb63cb308ddb1/56706607126eab6fa1ab9d89/567066d5126eab6fa1abacfb/1450206933047/mad-max-fury-road-movie-posters.jpg?format=original"},{title:"1917, Time is the Enemy",poster:"https://cdn.shopify.com/s/files/1/0969/9128/products/1917_-_Sam_Mendes_WW1_Epic_-_Hollywood_War_Film_Classic_English_Movie_Poster_81a3cd10-0023-439a-b461-c67381a81ecb.jpg?v=1582781193"},{title:"Mind center",poster:"https://i.ytimg.com/vi/iOiRR9UFn00/maxresdefault.jpg"},{title:"Thor, The Dark World",poster:"https://wallpaperaccess.com/full/645154.jpg"},{title:"Guardians of the Galaxy Vol. 2",poster:"https://images.squarespace-cdn.com/content/v1/569d58c3a12f44354e11b6a7/1524735778861-0B5MSZSUN69K1FJCT350/DIS_GOTG2_GA_NP_1285x720.jpg?format=1500w"},{title:"Matrix Resurrection",poster:"https://static1.colliderimages.com/wordpress/wp-content/uploads/2021/11/cool-new-poster-for-the-matrix-resurrections.jpg"}],ce=()=>{const[r,t]=n.useState(0),a=n.useRef(),i=j[r];return n.useEffect(()=>(a.current=setTimeout(()=>{t(s=>(s+1)%j.length)},1e4),()=>clearTimeout(a.current))),e("div",{className:"cr_wrapper",children:e("div",{className:"cr_img_wrapper",style:{backgroundImage:`url(${i.poster})`},children:c("div",{className:"cr_content",children:[e("h1",{children:i.title}),e("p",{children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat."}),c("div",{className:"hero-btn",children:[e("button",{className:"play-btn",children:e(U,{})}),e("button",{children:"Add to your List"})]})]})})})};const le=({children:r,text:t})=>e("div",{className:"filter-btn",children:c("button",{children:[r," ",t]})});const de=()=>e("div",{className:"filters_wrapper",children:[{name:"Movies",elem:e(W,{})},{name:"Serials",elem:e(Y,{})},{name:"Documentaries",elem:e($,{})}].map(t=>e(le,{text:t.name,children:t.elem},t.name))}),ue=()=>c(n.Fragment,{children:[e(ce,{}),e(de,{}),e(oe,{})]}),he=()=>{const r=n.useContext(C),t=n.useContext(f),a=K(),i=[...new Set(r.map(o=>t.data.find(l=>l.id===+o)))];return e("div",{className:"favorites_container",style:{height:"100%",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},children:i.length>0?i.map(o=>w.exports.createElement(R,h(u({},o),{isFav:!0,key:o.id}))):c("div",{children:[e("h2",{style:{width:"fit-content",color:"whitesmoke"},children:"You havent saved any movies yet"}),e("button",{onClick:()=>a("/"),children:"Go and Save Some"})]})})};function me(){return e(re,{children:e(J,{basename:"https://laurathaga.github.io/Movie-App/",children:c("div",{className:"container_app",children:[e(ae,{}),e("div",{className:"routes_body",children:c(Z,{children:[e(b,{path:"/",exact:!0,element:e(ue,{})}),e(b,{path:"/favorites",element:e(he,{})}),e(b,{})]})}),e(se,{})]})})})}z.render(e(n.StrictMode,{children:e(me,{})}),document.getElementById("root"));
